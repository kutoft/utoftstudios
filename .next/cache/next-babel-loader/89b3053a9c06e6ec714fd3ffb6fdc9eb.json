{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport { useRouter } from \"next/router\";\nimport Header from '../components/header';\nimport Title from '../components/title';\nimport Filter from '../components/filter';\nimport ThingList from '../components/thing-list';\nimport Quote from '../components/quote';\nimport Footer from '../components/footer';\nimport Main from \"../components/main\";\n\nconst Home = () => {\n  const router = useRouter();\n  const categoryAll = \"Do Things\";\n  const quoteDefault = \"Always The Next One\";\n  const [category, setCateogry] = React.useState(null);\n  const [title, setTitle] = React.useState(categoryAll);\n  const [quote, setQuote] = React.useState(quoteDefault);\n  const [data, setData] = React.useState(null);\n\n  const handleCategoryChange = cat => {\n    if (cat.id !== category) {\n      router.push({\n        pathname: '/',\n        query: {\n          category: cat.id\n        }\n      }).then(() => {\n        setTitle(cat.name);\n        setCateogry(cat.id);\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      router.push({\n        pathname: '/'\n      }).then(() => {\n        setTitle(categoryAll);\n        setCateogry(null);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }; // React.useEffect(() => {\n  //   const getData = await fetch(`/test/${category}`).catch(error => {\n  //     console.log(error)\n  //   })\n  //   if(getData) {\n  //     setData(getData)\n  //   }\n  // }, [category])\n\n\n  React.useEffect(() => {\n    if (router.query.category) {\n      setTitle(router.query.category.replace('-', ' '));\n      setCateogry(router.query.category);\n    }\n  }, [router.query.category]);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-3440151529\" + \" \" + \"container\"\n  }, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-3440151529\"\n  }, \"Do Things | Utoft Studios\"), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: \"Do Things | Utoft Studios\",\n    className: \"jsx-3440151529\"\n  })), __jsx(Header, null), __jsx(Main, null, __jsx(Title, {\n    title: `I ${title}`\n  }), __jsx(Filter, {\n    category: category,\n    handleCategoryChange: handleCategoryChange\n  }), __jsx(ThingList, {\n    data: data\n  }), __jsx(Quote, {\n    quote: quote\n  })), __jsx(Footer, null)), __jsx(_JSXStyle, {\n    id: \"3440151529\"\n  }, [\".container.jsx-3440151529{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:auto;min-height:100vh;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\"]));\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}